name: Keep-Alive
on:
  schedule:
    - cron: '*/10 * * * *' # Run every 10 minutes
  workflow_dispatch: # Allow manual triggering

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping API Health Endpoint
        run: |
          curl -f -v --retry 3 --retry-delay 5 https://eyoris-api.onrender.com/health || echo "API Health Ping failed"

      - name: Ping API Root
        run: |
          curl -f -v --retry 3 --retry-delay 5 https://eyoris-api.onrender.com/ || echo "API Root Ping failed"

      - name: Ping Frontend
        run: |
          curl -f -v --retry 3 --retry-delay 5 https://eyoris-fashion.onrender.com/ || echo "Frontend Ping failed"
